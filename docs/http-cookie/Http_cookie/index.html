<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Http_cookie (http-cookie.Http_cookie)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0-beta4-59-g244b5317d"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">http-cookie</a> &#x00BB; Http_cookie</nav><header class="odoc-preamble"><h1>Module <code><span>Http_cookie</span></code></h1><p>A comprehensive and standards compliant HTTP cookies library for ocaml.</p><p>HTTP cookie is serialized as follows:</p><ul><li>In a <code>Cookie</code> header in a HTTP request</li><li>In a <code>Set-Cookie</code> header in a HTTP response.</li></ul><p>The library supports consuming and creating HTTP cookie in both requests and responses.</p><p>The standard implemented by the library is <a href="https://tools.ietf.org/html/rfc6265">RFC 6265</a>.</p></header><nav class="odoc-toc"><ul><li><a href="#types">Types</a></li><li><a href="#constructors">Constructors</a></li><li><a href="#query-cookie-attributes">Query Cookie Attributes</a></li><li><a href="#compare">Compare</a></li><li><a href="#updates">Updates</a></li></ul></nav><div class="odoc-content"><h2 id="types"><a href="#types" class="anchor"></a>Types</h2><div class="odoc-spec"><div class="spec module" id="module-Same_site" class="anchored"><a href="#module-Same_site" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Same_site/index.html">Same_site</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Represents 'Same-site' cookie attribute. See https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Represents a cookie name-value in <code>Cookie</code> request header or a set of cookie attributes in <code>Set-Cookie</code> response header.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-date_time" class="anchored"><a href="#type-date_time" class="anchor"></a><code><span><span class="keyword">type</span> date_time</span><span> = </span><span>{</span></code><table><tr id="type-date_time.year" class="anchored"><td class="def record field"><a href="#type-date_time.year" class="anchor"></a><code><span>year : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Four digit year value, e.g. 2020, 2019, 1980 etc.</p><span class="comment-delim">*)</span></td></tr><tr id="type-date_time.month" class="anchored"><td class="def record field"><a href="#type-date_time.month" class="anchor"></a><code><span>month : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Begins from 0, i.e. January = 0.</p><span class="comment-delim">*)</span></td></tr><tr id="type-date_time.weekday" class="anchored"><td class="def record field"><a href="#type-date_time.weekday" class="anchor"></a><code><span>weekday : <span>[ `Sun <span>| `Mon</span> <span>| `Tue</span> <span>| `Wed</span> <span>| `Thu</span> <span>| `Fri</span> <span>| `Sat</span> ]</span>;</span></code></td></tr><tr id="type-date_time.day_of_month" class="anchored"><td class="def record field"><a href="#type-date_time.day_of_month" class="anchor"></a><code><span>day_of_month : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Day of the month value from 1 - 31.</p><span class="comment-delim">*)</span></td></tr><tr id="type-date_time.hour" class="anchored"><td class="def record field"><a href="#type-date_time.hour" class="anchor"></a><code><span>hour : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>24 hour value from 0-23</p><span class="comment-delim">*)</span></td></tr><tr id="type-date_time.minutes" class="anchored"><td class="def record field"><a href="#type-date_time.minutes" class="anchor"></a><code><span>minutes : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Minutes value from 0 - 59</p><span class="comment-delim">*)</span></td></tr><tr id="type-date_time.seconds" class="anchored"><td class="def record field"><a href="#type-date_time.seconds" class="anchor"></a><code><span>seconds : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Seconds value from 0 - 60</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Cookie" class="anchored"><a href="#exception-Cookie" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Cookie</span> <span class="keyword">of</span> string</span></code></div></div><h2 id="constructors"><a href="#constructors" class="anchor"></a>Constructors</h2><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>?path:string <span class="arrow">&#45;&gt;</span></span> <span>?domain:string <span class="arrow">&#45;&gt;</span></span> <span>?expires:<a href="#type-date_time">date_time</a> <span class="arrow">&#45;&gt;</span></span> <span>?max_age:int <span class="arrow">&#45;&gt;</span></span>
<span>?secure:bool <span class="arrow">&#45;&gt;</span></span> <span>?http_only:bool <span class="arrow">&#45;&gt;</span></span> <span>?same_site:<a href="Same_site/index.html#type-t">Same_site.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?extension:string <span class="arrow">&#45;&gt;</span></span>
<span>string <span class="arrow">&#45;&gt;</span></span> <span>value:string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create ~path ~domain ~expires ~max_age ~secure ~http_only ~same_site ~extension name
    ~value</code> returns a cookie instance <a href="#type-t"><code>t</code></a> with cookie name <code>name</code> and value <code>value</code> along with the given attributes.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Cookie</span> <p>if any of the cookie attributes fail validation.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-of_cookie_header" class="anchored"><a href="#val-of_cookie_header" class="anchor"></a><code><span><span class="keyword">val</span> of_cookie_header : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p><code>of_cookie_header s</code> parses <code>s</code> - a string value which represents HTTP <code>Cookie</code> header value as defined in <a href="https://tools.ietf.org/html/rfc6265#section-4.2">https://tools.ietf.org/html/rfc6265#section-4.2</a> and returns a list of <code>Cookie</code>s.</p><p>Examples</p><p>This returns two cookies with cookie names <code>SID</code> and <code>lang-en</code>.</p><pre><code>Http_cookie.of_cookie_header &quot;SID=31d4d96e407aad42; lang=en-US&quot; </code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-to_set_cookie_header_value" class="anchored"><a href="#val-to_set_cookie_header_value" class="anchor"></a><code><span><span class="keyword">val</span> to_set_cookie_header_value : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_set_header c</code> serializes cookie <code>c</code> into a string which can be encoded as value for HTTP <code>Set-Cookie</code> header.</p><p>The datetime format for <code>expires</code> attribute is specified in <a href="https://tools.ietf.org/html/rfc2616#section-3.3.1">RFC 2616</a></p><p>Example of a string returned by the function,</p><pre>SID=31d4d96e407aad42; Path=/; Secure; HttpOnly; Expires=Sun, 06 Nov 1994 08:49:37 GMT</pre></div></div><div class="odoc-spec"><div class="spec value" id="val-to_cookie_header_value" class="anchored"><a href="#val-to_cookie_header_value" class="anchor"></a><code><span><span class="keyword">val</span> to_cookie_header_value : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_cookie_header c</code> serializes <code>c</code> into a string which can be encoded as value for HTTP <code>Cookie</code> header.</p><p>Example of a string returned by the function.</p><pre>SID=31d4d96e407aad42</pre></div></div><h2 id="query-cookie-attributes"><a href="#query-cookie-attributes" class="anchor"></a>Query Cookie Attributes</h2><p>Cookie attributes are defined precisely at <a href="https://tools.ietf.org/html/rfc6265#section-4.1.1">RFC 6262</a></p><div class="odoc-spec"><div class="spec value" id="val-name" class="anchored"><a href="#val-name" class="anchor"></a><code><span><span class="keyword">val</span> name : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>name t</code> returns a cookie name.</p><p>See <a href="https://tools.ietf.org/html/rfc6265#section-4.1.1">cookie-name</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-value" class="anchored"><a href="#val-value" class="anchor"></a><code><span><span class="keyword">val</span> value : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>value t</code> returns a cookie value.</p><p>See <a href="https://tools.ietf.org/html/rfc6265#section-4.1.1">cookie-value</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-path" class="anchored"><a href="#val-path" class="anchor"></a><code><span><span class="keyword">val</span> path : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p><code>path t</code> returns cookie path attribute.</p><p>See <a href="https://tools.ietf.org/html/rfc6265#section-5.2.4">cookie-path</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-domain" class="anchored"><a href="#val-domain" class="anchor"></a><code><span><span class="keyword">val</span> domain : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p><code>domain t</code> returns cookie domain attribute.</p><p>See <a href="https://tools.ietf.org/html/rfc6265#section-4.1.2.3">cookie-domain</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-expires" class="anchored"><a href="#val-expires" class="anchor"></a><code><span><span class="keyword">val</span> expires : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-date_time">date_time</a> option</span></span></code></div><div class="spec-doc"><p><code>expires t</code> returns a coookie expires attribute.</p><p>See <a href="https://tools.ietf.org/html/rfc6265#section-4.1.2.1.">cookie-expires</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-max_age" class="anchored"><a href="#val-max_age" class="anchor"></a><code><span><span class="keyword">val</span> max_age : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p><code>max_age t</code> returns a cookie max_age attribute.</p><p>See <a href="https://tools.ietf.org/html/rfc6265#section-4.1.2.2">max-age</a> and <a href="https://tools.ietf.org/html/rfc6265#section-4.1.1">max-age-av</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-secure" class="anchored"><a href="#val-secure" class="anchor"></a><code><span><span class="keyword">val</span> secure : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool option</span></span></code></div><div class="spec-doc"><p><code>secure t</code> returns a secure attribute.</p><p>See <a href="https://tools.ietf.org/html/rfc6265#section-4.1.2.5">cookie-secure</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-http_only" class="anchored"><a href="#val-http_only" class="anchor"></a><code><span><span class="keyword">val</span> http_only : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool option</span></span></code></div><div class="spec-doc"><p><code>http_only t</code> returns a http_only attribute.</p><p>See <a href="https://tools.ietf.org/html/rfc6265#section-4.1.2.6">http-only</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-same_site" class="anchored"><a href="#val-same_site" class="anchor"></a><code><span><span class="keyword">val</span> same_site : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Same_site/index.html#type-t">Same_site.t</a> option</span></span></code></div><div class="spec-doc"><p><code>same_site t</code> returns a same_site attribute.</p><p>See <a href="https://tools.ietf.org/html/draft-ietf-httpbis-cookie-same-site-00">same-site</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-extension" class="anchored"><a href="#val-extension" class="anchor"></a><code><span><span class="keyword">val</span> extension : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p><code>extension t</code> returns a cookie extension value.</p><p>See <a href="https://tools.ietf.org/html/rfc6265#section-4.1.1">cookie-extension</a></p></div></div><h2 id="compare"><a href="#compare" class="anchor"></a>Compare</h2><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>compare c1 c2</code> returns <code>0</code> if <code>c1</code> and <code>c2</code> are equal, a positive integer if <code>c1</code> is greater than <code>c2</code> and a negative integer if <code>c1</code> is less than <code>c2</code></p></div></div><h2 id="updates"><a href="#updates" class="anchor"></a>Updates</h2><div class="odoc-spec"><div class="spec value" id="val-update_value" class="anchored"><a href="#val-update_value" class="anchor"></a><code><span><span class="keyword">val</span> update_value : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_name" class="anchored"><a href="#val-update_name" class="anchor"></a><code><span><span class="keyword">val</span> update_name : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_path" class="anchored"><a href="#val-update_path" class="anchor"></a><code><span><span class="keyword">val</span> update_path : <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_domain" class="anchored"><a href="#val-update_domain" class="anchor"></a><code><span><span class="keyword">val</span> update_domain : <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_expires" class="anchored"><a href="#val-update_expires" class="anchor"></a><code><span><span class="keyword">val</span> update_expires : <span><span><a href="#type-date_time">date_time</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_max_age" class="anchored"><a href="#val-update_max_age" class="anchor"></a><code><span><span class="keyword">val</span> update_max_age : <span><span>int option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_secure" class="anchored"><a href="#val-update_secure" class="anchor"></a><code><span><span class="keyword">val</span> update_secure : <span><span>bool option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_http_only" class="anchored"><a href="#val-update_http_only" class="anchor"></a><code><span><span class="keyword">val</span> update_http_only : <span><span>bool option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_same_site" class="anchored"><a href="#val-update_same_site" class="anchor"></a><code><span><span class="keyword">val</span> update_same_site : <span><span><a href="Same_site/index.html#type-t">Same_site.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-update_extension" class="anchored"><a href="#val-update_extension" class="anchor"></a><code><span><span class="keyword">val</span> update_extension : <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div></div></body></html>